<!-- build time:Wed Mar 22 2017 13:16:41 GMT+0800 (CST) --><!doctype html><html class="theme-next mist"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="baidu-site-verification" content="6c70qR5DN9"><link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css"><meta name="keywords" content="Hexo, NexT"><link rel="alternate" href="/atom.xml" title="Chaospace" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1"><meta property="og:type" content="website"><meta property="og:title" content="Chaospace"><meta property="og:url" content="https://fengchao.github.io/page/5/index.html"><meta property="og:site_name" content="Chaospace"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Chaospace"><script type="text/javascript" id="hexo.configuration">var NexT=window.NexT||{},CONFIG={scheme:"Mist",sidebar:{position:"left",display:"post"},fancybox:!0,motion:!1,duoshuo:{userId:0,author:"博主"}}</script><link rel="canonical" href="https://fengchao.github.io/page/5/"><title>Chaospace</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans,en,default"><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?e6e028efa4e1db3bb40b47f735c82723";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><div class="container one-collumn sidebar-position-left page-home"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Chaospace</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">Reshape the world by engineering chaos</p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup"><span class="search-icon fa fa-search"></span> <input type="text" id="local-search-input"><div id="local-search-result"></div><span class="popup-btn-close">close</span></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><section id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2016/05/21/Python-import-this/" itemprop="url">Python >>> import this</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2016-05-21T15:53:46+08:00" content="2016-05-21">2016-05-21 </time></span><span class="post-category">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/软件/" itemprop="url" rel="index"><span itemprop="name">软件</span> </a></span></span><span class="post-comments-count">&nbsp; | &nbsp; <a href="/2016/05/21/Python-import-this/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2016/05/21/Python-import-this/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>The Zen of Python, by Tim Peters</p><pre><code>Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren&apos;t special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you&apos;re Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it&apos;s a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let&apos;s do more of those!
</code></pre></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2016/05/09/Java-NET-Mono/" itemprop="url">Java, .NET ,Mono</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2016-05-09T16:49:24+08:00" content="2016-05-09">2016-05-09 </time></span><span class="post-category">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/软件/" itemprop="url" rel="index"><span itemprop="name">软件</span> </a></span></span><span class="post-comments-count">&nbsp; | &nbsp; <a href="/2016/05/09/Java-NET-Mono/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/Java-NET-Mono/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>Java 是 Sun 开发的跨平台语言，Java 编译出的程序运行在与平台无关的虚拟机 JVM 上，只要在各个操作系统之上实现了虚拟机，Java 就可以在其上运行。因为这一特性， Java 成为跨平台网络开发的首选语言。</p><p>这一点，显然是微软最不愿意看到的。微软希望所有的软件都只能在它的Windows操作系统中运行，这样就可以牢牢拴住用户，即使生产 Vista 这样的垃圾系统也能赚钱。所以，微软自己也发布一个所谓的“扩展” Java 虚拟机，但是这个 Java 版本只能用在微软自己的系统之上，不能用在其它平台，只能用于 IE 浏览器，无法用于其它浏览器。微软希望通过特意的设计，逐步消减 Java 的跨平台特征。</p><p>Sun 并没有束手就擒，面对这种卑劣的手段，只好于 1997 年提起诉讼，认为微软利用自己的垄断地位，破环 Java 的设计原则：</p><p>“Microsoft feared and sought to impede the development of network effects that cross-platform technology like Netscape Navigator and Java might enjoy and use to challenge Microsoft’s monopoly. Another internal Microsoft document indicates that the plan was not simply to blunt Java/browser cross-platform momentum, but to destroy the cross-platform threat entirely, with the ‘Strategic Objective’ described as to ‘Kill cross-platform Java by grow(ing) the polluted Java market.’”</p><p>微软败诉，只得放弃自己的 Java。并通过退出 .NET 来抗衡 Java。.NET 和 Java 都是中间层，但是和 Java 不同，.NET 并不提供跨操作系统的虚拟机，而是提供与语言关的环境。在 .NET 之上，可以使用 VB，VC 和 C# 进行开发，结果会编译成中间语言，实现与语言无关的特性。总体来说，.NET 还是十分出色的一个开发环境，具有许多优秀的功能。其最重要的目的，就是与 Java 在争抢网络开发上的地盘。</p><p>Mono 是 Linux 下的 .NET 开发工具，目的是使 Windows 下的程序更容易移植到 Linux，开发人员更快开始 Linux 下的开发。MonoDevelop 很好用，而且开发出了一些优秀的程序，例如Beagle, Tomboy, Banshee 和F-Spot 等。但是由于 Mono 和 .NET 的关系，很多人都害怕微软又会出什么招数，或者利用专利手段一下釜底抽薪，导致所有基于 Mono 的程序陷入困境。正如 Richard Stallman 所说：基于自由软件开发 C# 实现是值得鼓励的一件事，但是把 Gnome，把许多优秀的桌面程序建立在 C# 之上是一件危险的事情。</p><p>但是有一个公司并不用担心这个事情，那就是 Novell。因为 Novell 与微软达成的协议，即使 Mono 侵犯了微软的版权，微软也不会起诉这公司。这也就是 Mono 的开发者 de Icaza 受雇于 Novell，而且 Novell 大力支持 Mono 开发的原因。</p><p>也许有一天，微软会认识到开源是大势所趋，自由软件是软件这一生产形势的必然要求。但是在获得微软的完全授权之前，Mono 的命运总是不靠谱的。</p><h4 id="2016-5-update"><a href="#2016-5-update" class="headerlink" title="2016-5 update"></a>2016-5 update</h4><p>故事和预想的类似，微软最终将 Mono 纳入自己的手中。我们应该高兴，微软在这么多年中，终于有所改变，开始了很多开源的项目。</p><p>但是，还是那句话，任何严肃的开源开发者，都不应该将自己的工作建立在一个不稳固的基础之上。</p></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2016/04/16/How-to-get-kernel-module-maintainers/" itemprop="url">如何确定内核模块的维护者</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2016-04-16T20:12:10+08:00" content="2016-04-16">2016-04-16 </time></span><span class="post-category">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span> </a></span></span><span class="post-comments-count">&nbsp; | &nbsp; <a href="/2016/04/16/How-to-get-kernel-module-maintainers/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2016/04/16/How-to-get-kernel-module-maintainers/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><ol><li><p>查看 MAINTAINERS 文件</p></li><li><p>使用脚本 scripts/get_maintainer.pl</p><pre><code>$ scripts/get_maintainer.pl -f drivers/usb/serial/ftdi_sio.c
  Greg Kroah-Hartman &lt;gregkh@suse.de&gt;
  Alan Cox &lt;alan@linux.intel.com&gt;
  linux-usb@vger.kernel.org
  linux-kernel@vger.kernel.org
</code></pre></li></ol></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2016/04/16/Bash-rotation-code/" itemprop="url">Bash 脚本里面的旋转</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2016-04-16T20:07:32+08:00" content="2016-04-16">2016-04-16 </time></span><span class="post-category">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/代码/" itemprop="url" rel="index"><span itemprop="name">代码</span> </a></span></span><span class="post-comments-count">&nbsp; | &nbsp; <a href="/2016/04/16/Bash-rotation-code/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2016/04/16/Bash-rotation-code/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><pre><code>while(true); do 
    for a in \\ \| \/ -; do 
        echo -n $a
        sleep 1
        echo -n -e \\r
    done
done
</code></pre></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2016/04/06/Flash-storage-in-Linux/" itemprop="url">Linux 中的 Flash 文件系统</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2016-04-06T14:27:11+08:00" content="2016-04-06">2016-04-06 </time></span><span class="post-category">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span> </a></span></span><span class="post-comments-count">&nbsp; | &nbsp; <a href="/2016/04/06/Flash-storage-in-Linux/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2016/04/06/Flash-storage-in-Linux/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>作者： 华清远见嵌入式培训中心</p><p>嵌入式系统与通用PC机不同，一般没有硬盘这样的存储设备而是使用Flash闪存芯片、小型闪存卡等专为嵌入式系统设计的存储装置，本文分析了嵌入式系统中常用的存储设备及其管理机制，介绍了常用的基于FLASH的文件系统类型。</p><h1 id="1．嵌入式系统存储设备及其管理机制分析"><a href="#1．嵌入式系统存储设备及其管理机制分析" class="headerlink" title="1．嵌入式系统存储设备及其管理机制分析"></a>1．嵌入式系统存储设备及其管理机制分析</h1><p>构建适用于嵌入式系统的Linux文件系统，必然会涉及到两个关键点，一是文件系统类型的选择，它关系到文件系统的读写性能、尺寸大小;另一个就是根文件系统内容的选择，它关系到根文件系统所能提供的功能及尺寸大小。</p><p>嵌 入式设备中使用的存储器是像Flash闪存芯片、小型闪存卡等专为嵌入式系统设计的存储装置。Flash是目前嵌入式 系统中广泛采用的主流存储器，它的 主要特点是按整体/扇区擦除和按字节编程，具有低功耗、高密度、小体积等优点。目前，Flash分为NOR, NAND两种类型。</p><p>NOR型闪存可以直接读取芯片内储存的数据，因而速度比较快，但是价格较高。NOR型芯 片，地址线与数据线分开，所以 NOR型芯片可以像SRAM一样连在 数据线上，对NOR芯片可以“字”为基本单位操作，因此传输效率很高，应用程序可以直接在Flash内运行，不必再把代码读到系统RAM中运行。它与 SRAM的最大不同在于写操作需要经过擦除和写入两个过程。</p><p>NAND型闪存芯片共用地址线与数据线，内部数据 以块为单位进行存储，直接将NAND芯片做启动芯片比较难。NAND闪 存是连续存储介质，适合放大文件。 擦除NOR器件时是以64-128KB的块进行的，执行一个写入/擦除操作的时间为5s；擦除NAND器件是以8-32KB的块进行的，执行相同的操作最 多只需要4ms。NAND Rash的单元尺寸几乎是NOR器件的一半，由于生产过程更为简单，NAND结构可以在给定的模具尺寸内提供更高的容量，也就相应地降低了价格。NOR flash占据了容量为1―16MB闪存市场的大部分，而NAND flash只是用在8―128MB的产品当中，这也说明NOR主要应用在代码存储介质中，NAND适合于数据存储。寿命(耐用性)，在NAND闪存中每个 块的最大擦写次数是一百万次，而NOR的擦写次数是十万次。NAND存储器除了具有10比1的块擦除周期优势，典型的NAND块尺寸要比NOR器件小8 倍，每个NAND存储器块在给定的时间内的删除次数要少一些。</p><p>所有嵌入式系统的启动都至少需要使用某种形式的永久性存储设备，它们需要合适的驱动程序，当前在嵌入式Linux中有三种常用的块驱动程序可以选择。</p><ul><li>Blkmem驱动层</li></ul><p>Blkmem 驱动是为uclinux专门设计的，也是最早的一种块驱动程序之一，现在仍然有很多嵌入式Linux操作系 统选用它作为块驱动程，尤其是在 uClinux中。它相对来说是最简单的，而且只支持建立在NOR型Flash和RAM中的根文件系统。使用Blkmem驱动，建立Flash分区配置比 较困难，这种驱动程序为Flash提供了一些基本擦除/写操作。</p><ul><li>RAMdisk驱动层</li></ul><p>RAMdisk 驱动层通常应用在标准Linux中无盘工作站的启动，对Flash存储器并不提供任何的直接支持， RAM disk就是在开机时，把一部分的内存虚拟成块设备，并且把之前所准备好的档案系统映像解压缩到该RAM disk环境中。当在Flash中放置一个压缩的文件系统，可以将文件系统解压到RAM，使用RAM disk驱动层支持一个保持在RAM中的文件系统。</p><ul><li>MTD驱动层</li></ul><p>为 了尽可能避免针对不同的技术使用不同的工具，以及为不同的的技术提供共同的能力，Linux内核纳入了MTD子系统 (memory Technology Device)。它提供了一致且统一的接口，让底层的MTD芯片驱动程序无缝地与较高层接口组合在一起。JFFS2, Cramfs, YAFFS等文件系统都可以被安装成MTD块设备。MTD驱动也可以为那些支持CFI接口的NOR型Flash提供支持。虽然MTD可以建立在RAM上， 但它是专为基于Flash的设备而设计的。MTD包含特定Flash芯片的驱动程序，开发者要选择适合自己系统的Flash芯片驱动。Flash芯片驱动 向上层提供读、写、擦除等基本的操作，MTD对这些操作进行封装后向用户层提供MTD char和MTD block类型的设备。MTD char类型的设备包括/dev/mtd0, /dev/mtdl等，它们提供对Flash原始字符的访问。MTD block类型的设备包括/dev/mtdblock0,/dev/mtdblock1等，MTD block设备是将Flash模拟成块设备，这样可以在这些模拟的块设备上创建像Cramfs, JFFS2等格式的文件系统。</p><p>MTD 驱动层也支持在一块Flash上建立多个Flash分区，每一个分区作为了一个MTD block设备，可以把系统软件和数据等分配到不同的分区上，同时可以在不同的分区采用不用的文件系统格式。这一点非常重要，正是由于这一点才为嵌入式系 统多文件系统的建立提供了灵活性。</p><h1 id="2．-基于Flash的文件系统"><a href="#2．-基于Flash的文件系统" class="headerlink" title="2． 基于Flash的文件系统"></a>2． 基于Flash的文件系统</h1><p>鉴 于Flash存储介质的读写特点，传统的Linux文件系统己经不适合应用在嵌入式系统中，像Ext2fs文件系统是 为像IDE那样的块设备设计的，这 些设备的逻辑块是512字节、1024字节等大小，没有提供很好的扇区擦写支持，不支持损耗平衡，没有掉电保护，也没有特别完美的扇区管理，这不太适合于 扇区大小因设备类型而划分的闪存设备。基于这样的原因，产生了很多专为Flash设备而设计的文件系统，常见的专用于闪存设备的文件系统如下：</p><ul><li>Romfs</li></ul><p>传 统型的Romfs文件系统是最常使用的一种文件系统，它是一种简单的、紧凑的、只读的文件系统，不支持动态擦写保存; 它按顺序存放所有的文件数据，所以 这种文件系统格式支持应用程序以XIP方式运行，在系统运行时，可以获得可观的RAM节省空间。uClinux系统通常采用Romfs文件系统。</p><ul><li>Cramfs</li></ul><p>Cramfs 是Linux的创始人Linus Torvalds开发的一种可压缩只读文件系统在Cramfs文件系统中，每一页被单独压缩，可以随机页访问，其压缩比高达2:1,为嵌入式系统节省大量 的Flash存储空间。Cramfs文件系统以压缩方式存储，在运行时解压缩，所以不支持应用程序以XIP方式运行，所有的应用程序要求被拷到RAM里去 运行，但这并不代表比Ramfs需求的RAM 空间要大一点，因为Cramfs是采用分页压缩的方式存放档案，在读取档案时，不会一下子就耗用过多的内存空间，只针对目前实际读取的部分分配内存，尚没 有读取的部分不分配内存空间，当我们读取的档案不在内存时， Cramfs文件系统自动计算压缩后的资料所存的位置，再即时解压缩到RAM中。另外，它的速度快，效率高，其只读的特点有利于保护文件系统免受破坏，提 高了系统的可靠性;但是它的只读属性同时又是它的一大缺陷，使得用户无法对其内容对进扩充。Cramfs映像通常是放在Flash中，但是也能放在别的文 件系统里，使用loopback设备可以把它安装别的文件系统里。使用mkcramfs工具可以创建Cramfs映像。</p><ul><li>Ramfs/Tmpfs</li></ul><p>Ramfs 也是Linus Torvalds开发的，Ramfs文件系统把所有的文件都放在RAM里运行，通常是Flash系统用来存储一些临时性或经常要修改的数据，相对于 ramdisk来说，Ramfs的大小可以随着所含文件内容大小变化，不像ramdisk的大小是固定的。Tmpfs是基于内存的文件系统，因为 tmpfs驻留在RAM 中，所以写/读操作发生在RAM 中。tmpfs文件系统大小可随所含文件内容大小变化，使得能够最理想地使用内存;tmpfs驻留在RAM，所以读和写几乎都是瞬时的。tmpfs的一个 缺点是当系统重新引导时会丢失所有数据。</p><ul><li>JFFS2</li></ul><p>JFFS2 是RedHat公司基于JFFS开发的闪存文件系统，最初是针对RedHat公司的嵌入式产品eCos开发的 嵌入式文件系统，所以JFFS2也 可以用在Linux,uCLinux中。JFFS文件系统最早是由瑞典Axis Communications公司基于Linux2.0的内核为嵌入式系统开发的文件系统。JFFS2是一个可读写的、压缩的、日志型文件系统，并提供了 崩溃/掉电安全保护，克服了JFFS的一些缺点:使用了基于哈希表的日志节点结构，大大加快了对节点的操作速度;支持数据压缩；提供了“写平衡”支持;支 持多种节点类型；提高了对闪存的利用率，降低了内存的消耗。这些特点使JFFS2文件系统成为目前Flash设备上最流行的文件系统格式，它的缺点就是当 文件系统已满或接近满时，JFFS2运行会变慢，这主要是因为碎片收集的问题。</p><ul><li>YAFFS</li></ul><p>YAFFS/YAFFS2 是一种和JFFSx类似的闪存文件系统，它是专为嵌入式系统使用NAND型闪存而设计的一种日 志型文件系统。和JFFS2相比它 减少了一些功能，所以速度更快，而且对内存的占用比较小。此外，YAFFS自带NAND芯片的驱动，并且为嵌入式系统提供了直接访问文件系统的API，用 户可以不使用Linux中的MTD与VFS，直接对文件系统操作。YAFFS2支持大页面的NAND设备，并且对大页面的NAND设备做了优化。 JFFS2在NAND闪存上表现并不稳定，更适合于NOR闪存，所以相对大容量的NAND闪存，YAFFS是更好的选择。</p><p>具体的嵌入式系统设计中可根据不同目录存放的内容不同以及存放的文件属性，确定使用何种文件系统。</p><ul><li>UBIFS</li></ul><p>诺基亚开发的新文件系统，意在取代 JFFS2.</p></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2016/04/06/Kill-software-patents/" itemprop="url">Kill software patents</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2016-04-06T14:11:55+08:00" content="2016-04-06">2016-04-06 </time></span><span class="post-category">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/开源/" itemprop="url" rel="index"><span itemprop="name">开源</span> </a></span></span><span class="post-comments-count">&nbsp; | &nbsp; <a href="/2016/04/06/Kill-software-patents/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2016/04/06/Kill-software-patents/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>By Pieter Hintjens</p><p>Online on: 31/10/2006</p><p>I know that many people come to the FFII—as I did—because they feel a deep sense of injustice at how the smaller players in IT are consistently squashed by special interests and monopolists. But I’m going to look at our core concern—software patents—from a different angle, one based more on economics and less on emotions.</p><p>The simple question “what’s wrong with software patents?” stirs up controversy and divides the IT industry into two camps like no other. Every group has their own ideology about software patents. Those who don’t like them claim that they are anti-competitive, that they are tools used by industry giants to crush free and open software, that they are bad for innovation, that they are monopolies, etc. Those who like them claim that they are simply units of intellectual property, to be traded like any other commodity.</p><p>What is property?<br>All property is a monopoly. All property can be traded, bought and sold, and can make money for its owners. The state can declare any resource it likes to be “property”. We are, as citizens, property of the state, and in some countries we can still be traded, bought, and sold, and make money for our owners.</p><p>But these are useless truisms. I can make tenuous comparisons between patents and slavery, and stir up all kinds of emotions. I’m not going to do that. Instead, I’m going to look at the very meaning of property, and explore the dynamics that drive the basic notions of “private property”.</p><p>Property, of any kind, consists of a definition and a system of enforcement. All the rest is subjective. There is no intrinsic reason that land or potatoes should be different from ideas, time, or air. Anyone who argues that it is “right” or “wrong” to define and enforce certain types of property must prove this using more than just rhetoric and dogma.</p><p>The case for private property<br>Let’s look at a well-understood form of property: land rights. Most countries are divided up into plots large and small. The very concept of “country” is property, but a thousand years ago, only a small part of the world’s surface, in and around human habitations, was considered property. The rest was common lands, belonging to all and none. The process of turning common lands into shared property, and then into private domains (the “tragedy of the commons”) was driven by discussions very similar to the ones we hear today. The process was driven by greed to some extent, but also by real needs of evolving economies driven by new technologies in agriculture and industry.</p><p>A farmer who owns his land is far more likely to look after it than a farmer working on a collective. Similarly, it is clear that private home ownership is a healthier model in a modern money-based economy than state-ownership of homes. Private ownership of some things works very well.</p><p>The case for common property<br>However, this is not the whole story. Private ownership is not a panacea, and for every example where private ownership is “right”, I can find one where it is “wrong”. The roads and streets that connect those farms and houses are owned and managed collectively. The rain, air, and sun is owned by no-one. The wild animals and insects that form an important part of the ecology are collectively owned.</p><p>The five principles of property<br>There are actually good economic reasons for choosing a private property model for some resources, and not for others. There are five key rules to consider (there may be more, these are the most obvious ones to me):</p><p>Is the resource mobile, or fixed? This criteria defines whether it is possible to accurately define the resource, or not. A mobile resource—such as migrating birds or fish—does not fit the private property model. Fixed resources, such as lobsters, do.<br>Does the resource have clear boundaries, or not? This criteria defines whether it is possible to accurately enforce the monopoly, or not. Land can be well-defined. Art cannot be well-defined.<br>What generates more wealth—exclusive ownership or sharing? This criteria defines whether it is useful to consider this resource as property at all. Exclusive ownership of a house generates wealth, but exclusive ownership of roads does not (which is why we removed toll bridges on our roads).<br>Is the property system economical? In other words, is the definition and enforcement of the property cheap? If so, it is accessible to all. If not, it becomes a priviledge of the rich, and the system itself stops being economically neutral.<br>Is the property system well-bounded? In other words, is the definition of the property clear and unnegotiable? If the definition can be manipulated and changed, then the system that manages it will grow in an unsafe manner.<br>All forms of property can be tested against these five rules. The rules are, ultimately, self-enforcing because any society that ignores them will find itself paying the cost, and competition between societies punishes those that choose inefficient economic models.</p><p>The dangers of bad property systems<br>A well-defined property system can be incredibly powerful, and badly-defined property systems can be very damaging. I’d argue that what brought down the Soviet Union was not the political system, nor military spending, but simply the fact that private ownership of farms and houses was impossible. There is a direct relationship between house prices (which mainly depend on availability of land) and economic growth, in many countries. Home ownership creates a middle class, which is the main driver of modern economies.</p><p>Let’s see what happens when we break the rules. If we try to create monopolies on mobile resources, we over-exploit those resources. If we try to enforce monopolies that don’t have clear boundaries, we spend a lot on lawyers. If we create monopolies on resources that should be shared, we lose competitive advantage. If we create expensive property systems, we unleash special interests. And if we create unbounded property systems, those special interests will grow out of control.</p><p>Property systems for the software business<br>So I’ve defined five economic rules that we can apply to any form of property to measure whether it is a good, or bad, concept. Let’s now apply these to the main forms of property that are used in the IT sector, and see what we get. The four main property forms are: copyright, trademark, patent, and trade secret (which though not defined as IPR, is a real and useful form of property):</p><p>Copyright: it applies to a fixed resource: a self-defining written expression. It has clear boundaries (the document or work). Exclusive ownership does produce wealth, but sharing seems to be a stronger driver, and models such as the GPL that encourage both appear to be the most efficient at producing value. The copyright system is cheap and well-bounded, except when it comes to lifespans, and we’ve seen copyright terms extended to life+70, which is extraordinary in today’s digital era.<br>Trademark: it applies to a fixed resource: a name, logo, or phrase. It has clear boundaries (the mark). Exclusive ownership produces the most value—sharing of marks just weakens them. The trademark system is very well-bounded, though it could be cheaper.<br>Software patent: it applies to mobile resources: new ways of doing things, or methods. It has unclear boundaries (methods are difficult to define absolutely, and they overlap in horribly complex ways). It uses exclusive ownership for resources (new ideas) that produce much more value when shared. It is poorly bounded (it depends on a set of negotiable definitions such as “technical effect”), and it is very expensive.<br>Trade secret: it is fixed (in your firm). It has clear boundaries (individuals may not pass secrets outside the defined group). It depends on exclusive ownership. It is a well-defined system that is easy to apply, and cheap (based on simple contract).<br>The conclusions are clear: copyright, trademark, and trade secret are good forms of property for the software business, though copyright terms are a problem. Patents are a bad form of property for the software business, because they amplify the general weaknesses of the patent system:</p><p>Patents claim to own ideas, which are highly mobile resources, and in software, more mobile than most other industries.<br>Patents have unclear boundaries, and in software these boundaries are even less clear than in other industries.<br>Patents reduce the sharing of new ideas, and software depends on a higher volume of sharing of ideas than other industries.<br>Patents are an expensive property system, and most software innovation is driven by unfunded grass-roots work.<br>Patents are not a well-bounded property system, and in software a boundary between “good” and “bad” patents cannot be drawn.<br>It is significant, in my opinion, that patent industry has focussed almost exclusively on weakening the definition of software patents, and on strengthening their enforcement. There has been little or no discussion about the basic justification for creating this form of property, apart from the uselessly broad claim that “ownership of [certain classes of] ideas promotes investment in innovation [in certain sectors]”. This claim, which has always underpinned the patent system has been used to justify a gold rush, a land-grab of ideas in sectors where innovation actually depends on sharing, not exclusion.</p><p>Software patents are a new toll barrier<br>Many industries find that poor quality patents are a problem. But no other industry that has relied extensively on copyright has been subjected to patenting. The use of patents in software looks a lot more like the errection of a massive new system of private tolls and taxes, than the enablement of a new properties class.</p><p>Software patents were enabled in the USA in 1982 by a Supreme Court decision. After almost twenty-five years, we would expect to see this new form of property either proven, or disproven. The bulk of the software sector should, by now, be using patents as their primary tool for justifying new investments. There should be software patent success stories, to match the many success stories that were and are driven by other forms of intellectual property.</p><p>These success stories are just not there. Instead, we see a sorry parade of lawsuits. IBM—who has the largest software portfolio, and who has claimed that it is against business method patents—has just sued Amazon for infringing on several business process patents.</p><p>Conclusion<br>In this article I’ve examined software patents from the fundamentalist view point of how well a property system functions. This is not art, but science. We can document and measure, and we can prove or disprove property systems.</p><p>No sane person can claim that all private property is good, or that all private property is bad. Would it make sense to sell off all our streets to private owners? Would it make sense to allow individuals to collect tolls on bridges, borders, crossings, and rivers? All these property systems have been tried. There is no firmer believer in private property and punitive enforcement than a warlord.</p><p>No honest person can claim that it’s a choice between “privatising everything” and “an anti-property communist state”. The choices are between models that work, and models that do not. History is filled with examples and experiences, and we must recognise and learn from those models, or we will make stupid and avoidable mistakes. There is, behind our iMatix building in Brussels, a street that was privatised some decades ago. I’ve no idea what the intention was, but today we can see the results via Google Maps. The privatised street has become a wasted area, a car park, filled with weeds.</p><p>This is what’s wrong with software patents.</p></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2016/04/06/Free-as-in-Freedom/" itemprop="url">Free as in Freedom</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2016-04-06T14:05:22+08:00" content="2016-04-06">2016-04-06 </time></span><span class="post-category">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/开源/" itemprop="url" rel="index"><span itemprop="name">开源</span> </a></span></span><span class="post-comments-count">&nbsp; | &nbsp; <a href="/2016/04/06/Free-as-in-Freedom/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2016/04/06/Free-as-in-Freedom/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p><img src="/images/GNU_Richard_Stallman.jpg" alt="Richard" title="Title is optional"></p><p>Richard Matthew Stallman, the father of the GNU movement once gave a talk at the Australian National University where he explained his stand on the name GNU/Linux, the Digital Millennium Act, DRM which Stallman chooses to call Digital Restriction Management and software idea patents. He talked for over one hour explaining and throwing light on these and many other topics of interest to GNU and all freedom loving people.</p><h3 id="RMS-on-why-people-should-call-it-GNU-Linux-instead-of-just-Linux"><a href="#RMS-on-why-people-should-call-it-GNU-Linux-instead-of-just-Linux" class="headerlink" title="RMS on why people should call it GNU/Linux instead of just Linux"></a>RMS on why people should call it GNU/Linux instead of just Linux</h3><p>… So the goal we had set out to reach in 1984 had been reached (with the development of the Linux kernel). But at the same time, a confusion developed, we started thinking that the entire operating system was Linux. And this confusion was a serious blow to the free software movement. Because, before that time, the people who saw various pieces of GNU knew that they were doing so and they became GNU fans. And so when they came across the articles written about the philosophy of GNU, they wouldn’t guarantee to agree with us but at least they would pay serious attention and say we are fans of GNU and this is the philosophy of GNU.</p><p>After there was a complete GNU system with Linux that you could get to run, people started thinking that it was Linux. But before that point, our software spread the philosophy and our philosophy help spread the software because when the people read this, if they agree, they will be motivated to develop more free software and add to GNU.</p><p>However after people started using essentially the GNU system with Linux added, and called it Linux, it no longer led then to the philosophy associated with GNU - the philosophy of free software. Instead of that, the people read the philosophy that was associated with the name Linux. The apolitical philosophy of Linus Torvalds who thinks that all software licences are legitimate and it is wrong ever to violate them. So his views on this are more or less the same as Microsoft’s. Now he of course has the right to promote his views but I object to our work becoming the main basis for promoting his views because it is attributed to him directly by labeling the GNU system as Linux. And that is why I ask people to call the system as GNU/Linux.</p><p>Give us equal mention. We need it. We need it not just because it is fair but because it will help people recognize what we have done so they will think about what we are asking them help us do. Our work is not finished. People will sometimes give me advice which in other circumstances might have been wise. They would say, it looks bad to ask for credit. And so they say, when the people call the system Linux, smile to yourself and take pride in a job well done. This would be very wise advice if it were true that the job is done. We made a great beginning. We have developed more than one free operating system in our community and many free application programs. But there are many application programs we still have to develop. We have developed free operating systems used by 10’s of millions of users. But there are 100’s of millions of users of proprietary operating systems and even the people using free operating systems often use proprietary programs on top of that. So we have a tremendous amount of work to do.</p><h3 id="RMS-on-Digital-Millennium-Copyright-Act-and-DRM"><a href="#RMS-on-Digital-Millennium-Copyright-Act-and-DRM" class="headerlink" title="RMS on Digital Millennium Copyright Act and DRM"></a>RMS on Digital Millennium Copyright Act and DRM</h3><p>…</p><p>Today the main question is whether we would be allowed to develop the software that the users want. In the US, there are already two laws forbidding the development of various kinds of free software. One of these laws is the Digital Millennium Copyright Act - The law that forbids free software to access encrypted or some how blocked off data. This law was used to prohibit the free software from playing a DVD. If you buy a DVD in the US, it is legal for you to watch the movie. But the free software that would enable you to do this on your free GNU/Linux system has been censored completely. There is in fact no lawfully available software in the US that you could use to watch a DVD.</p><p>But I am afraid, they have carried this even further. There is a certain computer game that is accompanied by a network server that allows people to play against each other and they communicate with some kind of cryptic protocol. And people figured this out and implemented their own server and they have their own free game which is some what similar. They wrote it themselves and is not a modified work within modified proprietary game that won’t have been illegal anyway. So they wrote their own game and they have their own server. And you could use either game and talk to either server. And they were sued. A court ruled that these free alternatives are illegal ones under the digital millennium copyright act. Now please note that using either one of these free alternatives doesn’t enable one to use the proprietary one without paying. We have here two separate products being tied together through the use of this law.</p><p>The Digital Millennium Copyright Act is used to impose DRM (Digital Restriction Management) on the public. So they are not satisfied with prohibiting people from sharing with their neighbours. They want to redesign your computer system to stop you from sharing and this is wrong. DRM is fundamentally wrong in itself because it stops people from cooperating with their neighbours. And a government of the people, by the people and for the people will not enact laws that support DRM in any way. So that is one law which prohibits certain kinds of free software.</p><h3 id="RMS-on-Software-Idea-Patents"><a href="#RMS-on-Software-Idea-Patents" class="headerlink" title="RMS on Software Idea Patents"></a>RMS on Software Idea Patents</h3><p>Another law in the US which prohibits free software from any progress of any kind is the patent law. In the US, any kind of software idea for use in any kind of software can be patented by some one. Which means that when you implement that idea, you could get sued. Now large programs combine many ideas. A program can combine easily 100’s or 1000’s of different ideas. And if any one of these ideas is patented, your chances of developing a large program without infringing many patents is absurdly small. So software patents are obstacles to all software development. And they threaten users as well. The users can also get sued for the software they are using, for the way they have configured their machines and so on.</p><p>And this is advertised as a scheme to promote progress. But economic research shows just the opposite. Now I used to ask people to imagine how many different patents one program could be implemented by at once. I would say dozens, may be 50. Well now we do not have to imagine. Somebody did a study, must have been a lot of work. He took one particular program named Linux - the kernel of the GNU/Linux system. And he checked for all the US patents that covers something that could be found somewhere in Linux. He found 286 different US patents that covers parts of Linux. And Linux is just one part of the system. I saw an estimate somewhere else that it was 25 % of the system.</p><p>So if we note, we can get a rough estimate of around a 100,000 or so different software idea patents in the US that would cover ideas used some where in GNU/Linux system of today. Of course, it is a rough estimate and it wouldn’t surprise me if it were only 30,000 or as much as 300,000. So now you see the danger. And since this danger is not only for free software developers but for all software developers aside perhaps from the mega corporations, there is actually a very broad movement against the software idea patents. This movement which I am led to say I played a major role in starting about 40 years ago has actually persuaded the European Parliament which voted to reject software idea patents. Now European Union is set out to have only a little democracy in it. … The process is not over yet and we are still fighting it but there is a good chance that we can win at the level of the European Union. Of course Microsoft wants software idea patents. Microsoft has stated that it intends to use software idea patents to kill off GNU/Linux.</p><h3 id="RMS-on-developing-a-free-Java-platform-and-on-Flash-and-MS-Word-file-formats"><a href="#RMS-on-developing-a-free-Java-platform-and-on-Flash-and-MS-Word-file-formats" class="headerlink" title="RMS on developing a free Java platform and on Flash and MS Word file formats"></a>RMS on developing a free Java platform and on Flash and MS Word file formats</h3><p>(This is not a problem since Sun opens Java,maybe we make Flash our next target. )</p><p>One of the big dangers in our community is that people start putting non-free software into the system and they call it bonus. They say it is a nice addition, it gives more features. Yes it gives you more features at the cost of your freedom. When these things are distributed separately, they call it value added packages. And that term makes it stick about your values. It says it values your convenience only, don’t value your freedom. So I prefer to call them freedom subtracted packages. That makes a statement about my values.</p><p>But they also include them, incorporate them in various distributions of GNU/Linux system. For instance, Sun has a version of the GNU/Linux system which they call the Java Desktop. Now they are not giving credit either to Linux or GNU but that is not an important issue when we look at what they are doing which is really bad that is, including several non-free programs including Sun’s Java platform. Sun’s Java platform is not free software. You shouldn’t install. If you do install it, you are putting yourself at risk of creating other problems for other people. There are people who are so attracted to java - they think this idea that will run on all platforms is so exciting - that they stop paying attention to things like what to pay attention to. They will write programs in java, they will write free programs in java and offer to people and it turns out it doesn’t run on all platforms, it doesn’t run on a free platform.</p><p>You see, we have free java platforms. But they don’t implement all features yet. Sun keeps on adding features and our efforts are speeding up but they are still behind. So many of the java libraries or the newer language features, we don’t have yet. So if you use them in your free program, it would run on a free platform and you will find that your program is actually an inducement to people to install non-free software. The same thing is happening when websites use java or websites use flash.</p><p>The use of flash websites is a major problem for our community. People are working in free software for playing flash. And now it more or less handles just the display of things but it doesn’t handle reading input. If you see a website using flash, complain. Complain to the site developer saying you are excluding people who believe in maintaining their freedom. Please get rid of the flash from your site.</p><p>A similar problem occurs when people distribute files in word format. And peoples approach to this used to be find some way to arrange to read it. And I pointed out that this is actually not a right response in the long run. You see, people worked on figuring out the details of the secret of word format. And figured out a lot of them. So there is free software today like openoffice that can read word files. But it is still short term thinking just to address this problem as right because Microsoft can keep changing the word format. And every time they make word files in this new format and they send to other people and other people can’t read them. And so they feel like have to upgrade word as well and the result is a large number of these windows users are using new version of word and they send us these word files in a different format which our software can’t read. And maybe it is patented and we will get sued if we make our free software read.</p><p>To solve this office problem, we have to remove Microsoft’s control over the language that people use to communicate with each other and with themselves - like saving your files so you could read your files later. We have to refuse to use word format for this. When people send you a word file, therefore don’t cope with the situation by reading it. Instead it is much better to send back a message saying - please don’t ever send me word files. This is contributing to a serious social problem. But send it in public documented formats which everyone is free to implement so you are not giving a particular company any power it shouldn’t have.</p><p>Fundamentally, the use of non-free software program gives somebody power of the kind that nobody should have. And therefore software should be free. Computer users should always have the freedom to control their computers. And they should be free to cooperate with each other in doing so.</p><h3 id="RMS-on-Free-software-Vs-Opensource"><a href="#RMS-on-Free-software-Vs-Opensource" class="headerlink" title="RMS on Free software Vs Opensource"></a>RMS on Free software Vs Opensource</h3><p>… In 1998, some of them started another way of talking about free software where they call it opensource. And with this different name, they have associated a different set of ideas. They don’t say that this is a matter of the freedom that every user should have. In fact, they would often say that they recommend a development methodology which they say will generally produce more powerful and reliable software. And that may be true. I hope it is true. It would be nice if freedom provides as a byproduct, security of software. But it is a terrible mistake, I think, to focus all the attention on these short term practical benefits and ignore freedom itself. The danger is, then people would fail to defend their freedom when it is threatened as they wouldn’t recognize what it is.</p><p>So if you imagine two people, one who is convinced by the opensource philosophy and another who is convinced by the free software philosophy. And you show these people a powerful, reliable, convenient, non-free program. What are they going to say ?</p><p>The opensource guy would say - “I am surprised you were able to do such a good job without letting the users study the code and find the bugs for you. But I can argue with the facts. It seems a powerful and reliable program”. And he will probably use it. Where as the free software person will say - “I don’t care how powerful and convenient it is if it takes away my freedom. I wouldn’t pay such a high price for that convenience. I am going to get to work on a free replacement for this program right away before anybody else get tempted to use that program”.</p><p>One person would give up his freedom when ever you can offer him convenience in its return and the other would fight for his freedom. And if enough of you fight for your freedom, freedom may prevail.</p><h3 id="RMS-on-RMS"><a href="#RMS-on-RMS" class="headerlink" title="RMS on RMS"></a>RMS on RMS</h3><p><img src="/images/GPL_Richard.png" alt="GPL" title="Title is optional"></p><p>Now people sometimes have accused me of having a holier than thou attitude. I think that is not actually true. I don’t criticise and condemn people just because they don’t stand up for free software strongly as I do. As long as what they are doing is good, I will say what they are doing is good and I might suggest somethings they could do.</p><p>However, I do have a holy attitude because I am a saint. It is my job to be holy. I am saint iGNUcius of the church of Emacs. I bless your computer my child. Emacs started out as a text editor which became a way of life for many users because it could do almost everything without exiting Emacs. And ultimately a religion. We even have a great schism between two rival versions of Emacs. And now we have a saint too. Fortunately no gods. In this church, instead of gods, we have an editor.</p><p>To be a member of the church of Emacs, you must recite the confession of the faith. You must say, there is no system but GNU and Linux is one of its kernels. The church of Emacs has certain advantages compared with some other churches. To become a saint in the church of Emacs does not require celibacy. However, it does require living a life of moral purity. You must exorcise the evil proprietary operating systems that posses what ever of the computers under your control and install in all of them a holy free operating system instead. And then, only install free software on top of that. If you make this commitment to live by it, then you too would be a saint and you may eventually have a halo if you can find one because they don’t make them any more.</p><p>Sometimes, people ask me if it is a sin in the church of Emacs to use the editor Vi. It is true that Vi-Vi-Vi is the editor of the beast. But using a free version of Vi is not a sin but a penance. And sometimes, people ask me if my halo is really an old computer disc. This is not a computer disc. It is my halo. But it was a computer disc in a previous existence.</p></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2016/04/06/Why-Firefox/" itemprop="url">Firefox 的意义</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2016-04-06T13:40:16+08:00" content="2016-04-06">2016-04-06 </time></span><span class="post-category">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/技术/" itemprop="url" rel="index"><span itemprop="name">技术</span> </a></span></span><span class="post-comments-count">&nbsp; | &nbsp; <a href="/2016/04/06/Why-Firefox/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2016/04/06/Why-Firefox/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>1、Firefox的出现促进了竞争，使用户得到了好处很多人也许没有体会到，他们虽然是IE的用户，但是他们却是Firefox出现的最大受益者。从 99年前后IE3、IE4通过捆绑战术打败Netscape之后到2004年Firefox大流行之前，IE发布了三个版本，但是没有任何的实质性改进。 没有改进是因为IE没有缺点么？当然不是，这数年间多少病毒通过IE漏洞传播，多少恶意插件通过IE横行。以恶意插件为例，其实解决恶意插件技术上难度很 大么？IE上面提供一个插件管理器功能，就可以完全解决这个问题。然而这个技术问题前不久才在XpSp2版本中得到解决，为什么？原因很简单，没有竞争， 你不喜欢IE也没有办法，只有用。IE7目前宣布的特性中，最引人注意的标签浏览，Rss支持，增强的安全性，都是Firefox比IE老版本强的地方。这也让我们发现，IE用户之所以有新版本新特性可用，正是因为Firefox的出现给IE的垄断地位造成了威胁。所以IE用户是Firefox流行的最大受益者。</p><p>2、Firefox的出现有利于推广W3c Web标准化的网站设计</p><p>W3c web标准化设计思想要求把网页中的内容和样式分开，不使用Table进行布局。这样的好处是节约网络带宽，提高网页渲染的速度，降低浏览器的内存占用， 提高网站设计的效率，利于在不同设备里面浏览等等。这些我们这里不展开讲了，不然再写两三篇文章也说不完。大家可以去看《网站重构》 一书。然而这种设计思想和W3c标准长期被网站设计师们忽视，甚至故意的违反。这是因为市场上长期IE占有绝对多数的市场分额，而IE对W3c标准的支持 很差。在IE和Netscape的大战期间，微软为了得到垄断地位，也为了给潜在竞争者设置障碍，给IE增加了很多专有Html标记。这些标记很多都违反 了内容和样式分开的原则，还有些有专利和其他法律上的壁垒。这样就给其他 的浏览器发展造成了障碍。这形成了 一个恶性循环，使用这些非标准元素的网站越多，那么IE的垄断地位就会越稳固，而IE的垄断地位越稳固，使用这些非标准元素的网站也就会越多。然而正如前 面说的IE的垄断地位一旦固若金汤，微软就会不在乎用户需求，一意孤行。用户的合理要求就会被忽视。很多人埋怨手机上面的Wap页面太简单，网站太少。然 而大部分Web网站在手机上面也会变得支离破碎，甚至完全无法浏览。但是他们可能不知道的是，如果网站比较严格的遵守了W3c标准，那么在大多数手机里面 网站是可以正常浏览的（当然尺寸受到限制，显示的样子会有些差异），现在大部分智能手机是可以直接浏览XHtml网站的。然而，那些使用了IE非标准扩展 的网站在手机和其他移动设备一般都是无法浏览的，甚至可能会造成浏览器死机。也就是说，如果Firefox或者其他的比较符合W3c标准的浏览器更早的流 行的话，那么更多的网站就会支持W3c标准，我们早就可以在移动设备上面随意冲浪了。</p><p>3、Firefox的出现有利于提高网络安全恶意插件方面有一种对Firefox安全性的误解说，”Firefox的安全性来自用的人比较少，所有没有针对Firefox的恶意插件”。我经常听人提到这种误解，不光是不喜欢Firefox的人有这种误解，我发现很多非常喜欢Firefox的人也有这种误解，甚至因为这个误解他们说不要推广Firefox以免Firefox被恶人盯住。 这种误解来自于对恶意插件猖獗现状的误解，实际上恶意插件并不是一种技术上很难防止的东西。前面我们也提到了，微软如果做一个插件管理器就可以解决99% 的恶意插件了。现在恶意插件猖獗是微软因为没有竞争而不愿意投入人力和财力在IE安全性提高上面造成的。Xp2 sp2在Firefox的压力下，推出了插件管理器，虽然不能彻底解决问题，但是微软为了避免IE失去优势，必然会在IE7对这个功能进行增强。现在 Firefox上面没有一个恶意插件流行的主要原因是， Firefox在插件安装方面要检查用户确认网站安全，随时可以删除插件，以及比较完善的插件安全模型。Firefox比较完善的插件安全模型这点也很重 要。实际上Firefox的插件运行在Firefox的环境之中，他无法对Firefox以外的存储空间和用户信息进行破坏。这个IE的插件模型迥异，微 软的IE插件模型实际上是ActiveX是COM，COM是运行在整个操作系统范围内的，如果插件愿意甚至可以直接格式化用户硬盘。当然微软也有安全模型 来限制IE插件，比如插件不能自动安装等等，不能操作用户硬盘等等。但是3721等等非常强硬的恶意插件的泛滥证明微软的安全模型的脆弱（3721可以不 经用户允许就安装，还好他只是个恶意插件，他是病毒用户又会怎么样？）软件漏洞造成的安全问题方面前 些日子Firefox发现第一个漏洞的时候，许多美国媒体如获至宝大肆宣扬。这也反衬出来IE的安全性有多差，现在IE出现漏洞已经不算新闻了。据说刘蝶 雨在IE身上曾经连着7天找到7个漏洞。我们说软件有Bug，有漏洞是难免的，这没有办法。微软家大业大，IE程序非常复杂，有些漏洞不是什么不能原谅的 问题。但是问题在于对漏洞的反应：<br>根据安全公司Secunia的统计，2003年至2005年，Secunia针对Firefox1.x发布了22个安全警告，基本都是低危级；而同期针对IE6.x的警告有85个，高危级不在少数。Nitot将这种情况比作手指受伤与掉脑袋的区别。<br>Firefox对发现的漏洞都是很快的解决和发布，当然这不光光是因为Firefox的开发者勤奋，这也跟开源软件的组织方式和管理方式有关。<br>Mozilla欧洲总裁Tristan Nitot周一表示，一旦Firefox出现漏洞，Mozilla会迅速作出反应，在最短的时间里为用户提供解决方案，而微软在这一点上要差很多。</p><p>Nitot举例说：”9月6日，Mozilla接到了一个IDN缓冲问题报告；8日，该问题被意外公开；9日，我们通过改变设置暂时解决了这个问题，用户可以手动作出改变后者打上补丁；十天之内，我们发布了新版本，问题完全解决。”<br>然而IE的漏洞被发现以后，微软公司极少在短期内就作出解决的。</p><p>4、Firefox其实更简单更好用很 多人凭着随便一用就下结论说 Firefox不好用，或者说Firefox不适于普通用户。然而我们遇到了很多的反例，今天霍炬就给我讲了一个反例，他的一个朋友经营灯具的，前两天用 木马检查工具一检查机器发现木马成堆，所以开始用Firefox。霍炬帮他安装了几个插件，他立刻喜欢上了Firefox。这个家伙以前一直骂 Firefox难用的，说这个功能没有，那个功能没有的。这次才知道，原来他自己下载过Firefox，但是不会安装插件，很多好玩好用的插件都没见过，所以觉得Firefox太差劲。开源软件的推广中经常遇到这样的问题，因为开源的哲学是尊重用户的选择， 所以一个具有超级强大扩展功能的软件发行的时候，都不包含扩展包，让用户自己选择扩展。这样高端用户可以完全定制这个软件。Firefox也是这样的，所 以很多对开源哲学不了解的朋友，常常会被那些功能其实非常强大的软件的平凡外表所欺骗。这里的一个典型例子就是Linux，如果你直接下载Linux核心 的话，你甚至不知道怎么把它安装到电脑上去，所以产生了很多的Linux 安装版发行商，来帮用户把 Linux和好的开源软件打包并提供安装和配置工具。目前这种打包服务在Firefox社区中还比较少，所以很多初级用户对Firefox有这样那样的误 解。这也说明，我们国内的开源爱好者应该考虑多进行这方面的工作（国外的已经比较不错了，Firefox1.5刚刚发行BSD port里面就出现了）。</p><p>5、只有想不到的，没有Firefox做不到的</p><p>Firefox是一个高度可扩展的浏览器（同时很安全，前面讲过了），Firefox比IE出现要晚得多，但是各种各样的扩展数目比IE多得多。据说让keso一直忍受Firefox不断膨胀内存占用的主因是他放不下那些贴心的Firefox扩展。今年6-7月的时候，Firefox中文网做了一个10佳Firefox扩展的评选，被选中的有屏蔽广告的Adblock，有拓展标签浏览的Tab Mix，有提供拖动打开新网页功能的SuperDragAndGo，方便下载的FlashGot，有关联各种应用程序的Launchy，有鼠标花样玩法的All-in-One Gestures Extension，有可以方便的看天气预报的ForecastFox，有Rss浏览器Sage，有超级收藏工具ScrapBook，有帮你输入BBCODE/XHTML/HTML的BBcode。关于这些扩展的详细说明和下载地址，请看我的文章“Firefox中文网评选的10佳Firefox扩展”。以上说的拓展并不是全部，优秀拓展还有很多很多，简而言之，只有你想不到的拓展，没有Firefox做不到的功能。</p><p>如果你还没开始使用Firefox，为什么不从今天开始试试呢？不需要花一分钱，下载安装即可，也许你也可以发现一个新的世界。</p></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2016/04/06/Hello-world/" itemprop="url">hexo: Hello World</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2016-04-06T11:03:24+08:00" content="2016-04-06">2016-04-06 </time></span><span class="post-category">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/软件/" itemprop="url" rel="index"><span itemprop="name">软件</span> </a></span></span><span class="post-comments-count">&nbsp; | &nbsp; <a href="/2016/04/06/Hello-world/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2016/04/06/Hello-world/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure><p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p><h3 id="Hexo-hey-admin"><a href="#Hexo-hey-admin" class="headerlink" title="Hexo-hey admin"></a>Hexo-hey admin</h3><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ npm install -save hexo-hey</div></pre></td></tr></table></figure><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure><p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure><p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure><p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p><h3 id="Hexo-image-generate"><a href="#Hexo-image-generate" class="headerlink" title="Hexo image generate"></a>Hexo image generate</h3><p>主页： <a href="https://github.com/akfish/hexo-migrator-image" target="_blank" rel="external">hexo-migrator-image</a><br>安装：</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ npm install hexo-migrator-image --save</div></pre></td></tr></table></figure><p>使用：</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ hexo migrate image</div></pre></td></tr></table></figure><p>How Does It Work</p><p>This migrator scans all .md files in a hexo blog folder for Markdown’s image tags. Then downloads (remote) or copies (local) files to source/images folder and updates all urls in the posts. The images’ file names are SHA1 digest of its original url. A backup file named .md.#timestamp#.bak file will be created for each .md files every time. However it is better to use version control or make a copy just in case.</p><h3 id="Theme"><a href="#Theme" class="headerlink" title="Theme"></a>Theme</h3><ul><li>hexo next - <a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">https://github.com/iissnan/hexo-theme-next</a></li></ul><h3 id="Plunins"><a href="#Plunins" class="headerlink" title="Plunins"></a>Plunins</h3><ul><li>hexo-all-minifier</li></ul></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2016/04/06/Songbird-Play-music-play-the-web/" itemprop="url">Songbird -- Play music play the web</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2016-04-06T10:59:57+08:00" content="2016-04-06">2016-04-06 </time></span><span class="post-category">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/软件/" itemprop="url" rel="index"><span itemprop="name">软件</span> </a></span></span><span class="post-comments-count">&nbsp; | &nbsp; <a href="/2016/04/06/Songbird-Play-music-play-the-web/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2016/04/06/Songbird-Play-music-play-the-web/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p><img src="/images/songbird.png" alt="Songbird picture" title="Songbird"></p><p>“Songbird promises to be the Firefox of media players.”</p><p>—Aaron Boodman, Greasemonkey　　Songbird ( <a href="http://www.songbirdnest.com" target="_blank" rel="external">http://www.songbirdnest.com</a> ) :一个开源桌面网络播放器，除了具有一般播放器的功能外，还可以不用离开网页就播放其中的MP3. 它把网页当成一个可以播放,保存和订阅的动态播放列表。从 Songbird 自身来讲，它已经在媒体播放和网络浏览之间找到了一个恰当的平衡点。这就是 Songbird 显得与众不同的地方。它的核心开发人员曾经开发songbird.png过 Winmap 和 Yahoo!Music Engine.</p><p>详细使用情况，请观看使用简介。 　　<a href="http://www.songbirdnest.com/screencast/" target="_blank" rel="external">http://www.songbirdnest.com/screencast/</a></p><p>Songbird 建构在 XUL 框架之上，这点与 Firefox 类似，能够在 Windows、Mac OS X、Linux 之上运行。本身也支持扩展和皮肤，这使 Songbird 具有很好的开放性和延展性。虽然刚推出不久，但具有无限的潜力，很有可能改变人们听音乐的方式。成为下一代浏览器的代表。</p><p>当然，作为一个版本0.2的开发者预览版，bug 还是很多的,距离日常使用，还有一段距离。但是，其对待网络音乐的创新想法，已经一起了越来越多的人的注意。来自世界各地的软件爱好者正在积极的改进和完善它。相信不久的将来，这只唱歌的小鸟一定会变成飞舞的凤凰。</p><h2 id="2015-05-19-更新"><a href="#2015-05-19-更新" class="headerlink" title="2015-05-19 更新"></a>2015-05-19 更新</h2><p>Songbird1.0 已经正式发布了。Songbird 最独特的功能就是把浏览器与媒体播放器融合起来，在浏览网络的同时就可以方便的播放网页中的音乐。在这个在线播放逐渐成为主流的时代，Songbird 绝对有很大的发展潜力。作为 Mozilla 家族的一员，它和火狐、雷鸟一样，具有跨平台（Windows，Linux ，Mac）的特点，同样也遗传了耗费内存的缺点。个人比较喜欢简洁的风格，所以相对于 Songbird，我更喜欢使用 Audacious。</p><p>Songbird 是我参加的第一个开源项目。最早的时候，0.2 版大概，在尝鲜的时候发现播放器的界面是乱码。看代码之后发现是资源文件错误，虽然预留了国际化文件，但是并没有真正的汉化。于是花了两天的时间把程序汉 化了一遍，打包寄给了作者。看着一个程序在自己的工作下变得稍微有点完善，是一件很令人兴奋的事情：世界（中一个小软件的一个版本）在自己的作用下，发生 了切切实实的改变，而这个改变，会让世界更接近完美。</p><p>后来，Songbird 的翻译转移到网页上，Web2.0 的界面让翻译变得傻瓜化。而因为很少使用 Songbird，后面的许多新词条的翻译已经不是我做的了。但是从某种意义上说，Songbird 改变了我的人生轨迹。如果没有 Songbird，我还会做软件么？还会做 Linux 么？也许吧，但是概率至少也要打六折。在我看来，Songbird 不仅是唱歌的小鸟，更是扇动翅膀的蝴蝶。</p></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></section><nav class="pagination"><a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a></nav></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><section class="site-overview sidebar-panel sidebar-panel-active"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt="Feng Chao"><p class="site-author-name" itemprop="name">Feng Chao</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">154</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories"><span class="site-state-item-count">15</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><span class="site-state-item-count">1</span> <span class="site-state-item-name">标签</span></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/fengchao" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i> GitHub </a></span><span class="links-of-author-item"><a href="https://twitter.com/fengchao" target="_blank" title="Twitter"><i class="fa fa-fw fa-twitter"></i> Twitter</a></span></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; 2008 - <span itemprop="copyrightYear">2017</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Feng Chao</span></div><div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div><div class="theme-info">主题 - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script><script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script><script type="text/javascript">var duoshuoQuery={short_name:"chaosite"};!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.id="duoshuo-script",t.src=("https:"==document.location.protocol?"https:":"http:")+"//static.duoshuo.com/embed.js",t.charset="UTF-8",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}()</script><script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script><script src="/js/src/hook-duoshuo.js"></script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="popoverlay">').css("overflow","hidden"),$(".popup").toggle()}var isfetched=!1,search_path="search.xml";0==search_path.length&&(search_path="search.xml");var path="/"+search_path,searchFunc=function(e,t,a){"use strict";$.ajax({url:e,dataType:"xml",async:!0,success:function(e){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var r=$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),c=document.getElementById(t),s=document.getElementById(a);c.addEventListener("input",function(){var e=0,t='<ul class="search-result-list">',a=this.value.trim().toLowerCase().split(/[\s\-]+/);s.innerHTML="",this.value.trim().length>1&&r.forEach(function(r){var c=!0,s=r.title.trim().toLowerCase(),n=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),i=r.url,o=-1,l=-1,p=-1;if(""!=s&&""!=n&&a.forEach(function(e,t){o=s.indexOf(e),l=n.indexOf(e),o<0&&l<0?c=!1:(l<0&&(l=0),0==t&&(p=l))}),c){e+=1,t+="<li><a href='"+i+"' class='search-result-title'>"+s+"</a>";var h=r.content.trim().replace(/<[^>]+>/g,"");if(p>=0){var u=p-20,d=p+80;u<0&&(u=0),0==u&&(d=50),d>h.length&&(d=h.length);var f=h.substring(u,d);a.forEach(function(e){var t=new RegExp(e,"gi");f=f.replace(t,'<b class="search-keyword">'+e+"</b>")}),t+='<p class="search-result">'+f+"...</p>"}t+="</li>"}}),t+="</ul>",0==e&&(t='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'),""==a&&(t='<div id="no-result"><i class="fa fa-search fa-5x" /></div>'),s.innerHTML=t}),proceedsearch()}})};$(".popup-trigger").click(function(e){e.stopPropagation(),0==isfetched?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(function(e){$(".popup").hide(),$(".popoverlay").remove(),$("body").css("overflow","")}),$(".popup").click(function(e){e.stopPropagation()})</script><script type="text/javascript" async src="//push.zhanzhang.baidu.com/push.js"></script></body></html><!-- rebuild by neat -->